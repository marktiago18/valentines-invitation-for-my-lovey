<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Choose me!</title>
    <link rel="stylesheet" href="css/food.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Yatra+One&display=swap" rel="stylesheet">
  </head>
  <body>
    <div class="container">
      <div id="foodquestion">
        <b>What food would you like to eat?</b>
      </div>

      <div class="food-selection">
        <div class="food-item">
          <img src="food/burgers.jpg" alt="Burgers, fries and fried chicken" />
          <label>
            <input
              type="checkbox"
              name="food"
              value="Burgers, fries and fried chicken"
              class="food-checkbox"
            />
            burgers and fried chicken
          </label>
        </div>
        <div class="food-item">
          <img src="food/hotdog.jpg" alt="dog" />
          <label>
            <input type="checkbox" name="food" value="hotdog" class="food-checkbox" />
            hotdog
          </label>
        </div>
        <div class="food-item">
          <img src="food/korean-food.webp" alt="koreanfood" />
          <label>
            <input type="checkbox" name="food" value="Korean food" class="food-checkbox" />
            korean food
          </label>
        </div>
        <div class="food-item">
          <img src="food/pasta.jpg" alt="pasta" />
          <label>
            <input type="checkbox" name="food" value="pasta" class="food-checkbox" />
            pasta
          </label>
        </div>
        <div class="food-item">
          <img src="food/pizza.jpg" alt="pizza" />
          <label>
            <input type="checkbox" name="food" value="pizza" class="food-checkbox" />
            pizza
          </label>
        </div>
        <div class="food-item">
          <img src="food/salad.jpg" alt="salad" />
          <label>
            <input type="checkbox" name="food" value="salad" class="food-checkbox" />
            salad
          </label>
        </div>
        <div class="food-item">
          <img src="food/steak.jpg" alt="steak" />
          <label>
            <input type="checkbox" name="food" value="steak" class="food-checkbox" />
            steak
          </label>
        </div>
        <div class="food-item">
          <img src="food/sushi.jpeg" alt="sushi" />
          <label>
            <input type="checkbox" name="food" value="sushi" class="food-checkbox" />
            sushi
          </label>
        </div>
      </div>

      <!-- Button disabled by default -->
      <button class="button" id="proceedButton" disabled>
        Please proceed ->
      </button>
    </div>

    <script>
      // Get all checkboxes and the button
      const checkboxes = document.querySelectorAll('.food-checkbox');
      const proceedButton = document.getElementById('proceedButton');

      // Function to check if at least one checkbox is checked
      function toggleButtonState() {
        // Check if at least one checkbox is checked
        const isChecked = Array.from(checkboxes).some(checkbox => checkbox.checked);

        // Enable the button if at least one checkbox is checked, otherwise keep it disabled
        proceedButton.disabled = !isChecked;
      }

      // Handle the button click event
      function handleButtonClick(event) {
        // If no checkbox is selected, show an alert
        const isChecked = Array.from(checkboxes).some(checkbox => checkbox.checked);
        if (!isChecked) {
          alert('Please select at least one food item before proceeding!');
          event.preventDefault(); // Prevent form submission
        } else {
          // Proceed to the next page if at least one checkbox is checked
          window.location.href = 'activities.html';
        }
      }

      // Add event listeners to each checkbox to update button state
      checkboxes.forEach(checkbox => {
        checkbox.addEventListener('change', toggleButtonState);
      });

      // Add event listener to the button to handle click event
      proceedButton.addEventListener('click', handleButtonClick);

      // Function to initialize button state after page reload
      function initializeButtonState() {
        // Initially check if any checkbox is checked
        toggleButtonState();
      }

      // Run the initialization function after the page loads
      window.addEventListener('load', initializeButtonState);
    </script>
  </body>
</html>